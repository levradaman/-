// –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const appData = {
  "platforms": [
    // –†–æ—Å—Å–∏–π—Å–∫–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
    {
      "name": "–Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω",
      "region": "RU",
      "type": "–¢–µ–∫—Å—Ç–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞",
      "max_posts_per_day": 96,
      "posting_interval": "–ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç",
      "monthly_audience_russia": "74%",
      "monthly_audience_global": "75 –º–ª–Ω",
      "engagement_rate": "5.2%",
      "traffic_potential": "9.5",
      "difficulty": "–°—Ä–µ–¥–Ω–∏–π",
      "monetization": "–ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, —Ä–µ–∫–ª–∞–º–∞",
      "character_limit": "3500-6000 –∑–Ω–∞–∫–æ–≤",
      "blocked_in_rf": false,
      "content_length": "long",
      "best_for_ru": true,
      "best_for_usa": false,
      "automation_risk": "–ù–∏–∑–∫–∏–π",
      "api_available": true,
      "cost_per_click": 0.15
    },
    {
      "name": "–í–ö–æ–Ω—Ç–∞–∫—Ç–µ",
      "region": "RU", 
      "type": "–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å",
      "max_posts_per_day": "–ë–µ–∑ –ª–∏–º–∏—Ç–æ–≤",
      "posting_interval": "2-4 —á–∞—Å–∞",
      "monthly_audience_russia": "75%",
      "monthly_audience_global": "100 –º–ª–Ω",
      "engagement_rate": "3.8%",
      "traffic_potential": "8.2",
      "difficulty": "–°—Ä–µ–¥–Ω–∏–π",
      "monetization": "–†–µ–∫–ª–∞–º–∞, –¥–æ–Ω–∞—Ç—ã, VK Pay",
      "character_limit": "15000 —Å–∏–º–≤–æ–ª–æ–≤",
      "blocked_in_rf": false,
      "content_length": "long",
      "best_for_ru": true,
      "best_for_usa": false,
      "automation_risk": "–°—Ä–µ–¥–Ω–∏–π",
      "api_available": true,
      "cost_per_click": 0.08
    },
    {
      "name": "Telegram",
      "region": "Global",
      "type": "–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä",
      "max_posts_per_day": "–ë–µ–∑ –ª–∏–º–∏—Ç–æ–≤",
      "posting_interval": "–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π",
      "monthly_audience_russia": "74%",
      "monthly_audience_global": "900 –º–ª–Ω",
      "engagement_rate": "6.8%",
      "traffic_potential": "9.8",
      "difficulty": "–í—ã—Å–æ–∫–∏–π",
      "monetization": "–†–µ–∫–ª–∞–º–∞, –ø–æ–¥–ø–∏—Å–∫–∏",
      "character_limit": "4096 —Å–∏–º–≤–æ–ª–æ–≤",
      "blocked_in_rf": false,
      "content_length": "long",
      "best_for_ru": true,
      "best_for_usa": true,
      "automation_risk": "–í—ã—Å–æ–∫–∏–π",
      "api_available": true,
      "cost_per_click": 0.12
    },
    {
      "name": "TikTok",
      "region": "Global",
      "type": "–ö–æ—Ä–æ—Ç–∫–∏–µ –≤–∏–¥–µ–æ",
      "max_posts_per_day": 4,
      "posting_interval": "1-4 –≤–∏–¥–µ–æ –≤ –¥–µ–Ω—å",
      "monthly_audience_russia": "25%",
      "monthly_audience_global": "1 –º–ª—Ä–¥",
      "engagement_rate": "5.96%",
      "traffic_potential": "9.3",
      "difficulty": "–°—Ä–µ–¥–Ω–∏–π",
      "monetization": "Creator Fund, –±—Ä–µ–Ω–¥—ã",
      "character_limit": "2200 —Å–∏–º–≤–æ–ª–æ–≤",
      "blocked_in_rf": false,
      "content_length": "short",
      "best_for_ru": true,
      "best_for_usa": true,
      "automation_risk": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π",
      "api_available": false,
      "cost_per_click": 0.25
    },
    {
      "name": "YouTube",
      "region": "Global", 
      "type": "–í–∏–¥–µ–æ–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞",
      "max_posts_per_day": 3,
      "posting_interval": "1-3 –≤–∏–¥–µ–æ –≤ –¥–µ–Ω—å",
      "monthly_audience_russia": "85%",
      "monthly_audience_global": "2.7 –º–ª—Ä–¥",
      "engagement_rate": "4.2%",
      "traffic_potential": "9.8",
      "difficulty": "–í—ã—Å–æ–∫–∏–π",
      "monetization": "AdSense, —Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ",
      "character_limit": "–í–∏–¥–µ–æ –¥–æ 12 —á–∞—Å–æ–≤",
      "blocked_in_rf": false,
      "content_length": "long",
      "best_for_ru": true,
      "best_for_usa": true,
      "automation_risk": "–°—Ä–µ–¥–Ω–∏–π",
      "api_available": true,
      "cost_per_click": 0.30
    },
    {
      "name": "Instagram",
      "region": "Global",
      "type": "–í–∏–∑—É–∞–ª—å–Ω–∞—è —Å–æ—Ü—Å–µ—Ç—å",
      "max_posts_per_day": 10,
      "posting_interval": "1-2 –ø–æ—Å—Ç–∞ –≤ –¥–µ–Ω—å",
      "monthly_audience_russia": "35%",
      "monthly_audience_global": "2 –º–ª—Ä–¥",
      "engagement_rate": "1.22%",
      "traffic_potential": "8.8",
      "difficulty": "–í—ã—Å–æ–∫–∏–π",
      "monetization": "Creator Fund, Shopping",
      "character_limit": "2200 —Å–∏–º–≤–æ–ª–æ–≤",
      "blocked_in_rf": "–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω",
      "content_length": "short",
      "best_for_ru": false,
      "best_for_usa": true,
      "automation_risk": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π",
      "api_available": true,
      "cost_per_click": 0.45
    },
    {
      "name": "LinkedIn",
      "region": "Global",
      "type": "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–µ—Ç—å",
      "max_posts_per_day": 2,
      "posting_interval": "1-2 –ø–æ—Å—Ç–∞ –≤ –¥–µ–Ω—å",
      "monthly_audience_russia": "8%",
      "monthly_audience_global": "900 –º–ª–Ω",
      "engagement_rate": "2.4%",
      "traffic_potential": "7.8",
      "difficulty": "–°—Ä–µ–¥–Ω–∏–π",
      "monetization": "–°–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–æ, Lead Gen",
      "character_limit": "3000 —Å–∏–º–≤–æ–ª–æ–≤",
      "blocked_in_rf": false,
      "content_length": "long",
      "best_for_ru": false,
      "best_for_usa": true,
      "automation_risk": "–°—Ä–µ–¥–Ω–∏–π",
      "api_available": true,
      "cost_per_click": 1.20
    },
    {
      "name": "Reddit",
      "region": "Global",
      "type": "–§–æ—Ä—É–º",
      "max_posts_per_day": "–ü–æ –∫–∞—Ä–º–µ",
      "posting_interval": "1-5 –ø–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å",
      "monthly_audience_russia": "2%",
      "monthly_audience_global": "1.1 –º–ª—Ä–¥",
      "engagement_rate": "4.5%",
      "traffic_potential": "8.9",
      "difficulty": "–í—ã—Å–æ–∫–∏–π",
      "monetization": "–†–µ–∫–ª–∞–º–∞, Awards",
      "character_limit": "40000 —Å–∏–º–≤–æ–ª–æ–≤",
      "blocked_in_rf": false,
      "content_length": "long",
      "best_for_ru": false,
      "best_for_usa": true,
      "automation_risk": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π",
      "api_available": true,
      "cost_per_click": 0.35
    },
    {
      "name": "Medium",
      "region": "Global",
      "type": "–ë–ª–æ–≥ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞",
      "max_posts_per_day": 5,
      "posting_interval": "1-2 —Å—Ç–∞—Ç—å–∏ –≤ –¥–µ–Ω—å",
      "monthly_audience_russia": "5%",
      "monthly_audience_global": "100 –º–ª–Ω",
      "engagement_rate": "3.9%",
      "traffic_potential": "8.1",
      "difficulty": "–°—Ä–µ–¥–Ω–∏–π",
      "monetization": "Partner Program",
      "character_limit": "–ë–µ–∑ –ª–∏–º–∏—Ç–æ–≤",
      "blocked_in_rf": false,
      "content_length": "long",
      "best_for_ru": false,
      "best_for_usa": true,
      "automation_risk": "–ù–∏–∑–∫–∏–π",
      "api_available": true,
      "cost_per_click": 0.40
    },
    {
      "name": "Twitter/X",
      "region": "Global",
      "type": "–ú–∏–∫—Ä–æ–±–ª–æ–≥",
      "max_posts_per_day": 50,
      "posting_interval": "–ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç",
      "monthly_audience_russia": "12%",
      "monthly_audience_global": "550 –º–ª–Ω",
      "engagement_rate": "0.9%",
      "traffic_potential": "7.5",
      "difficulty": "–í—ã—Å–æ–∫–∏–π",
      "monetization": "X Premium, —Ä–µ–∫–ª–∞–º–∞",
      "character_limit": "280 —Å–∏–º–≤–æ–ª–æ–≤",
      "blocked_in_rf": false,
      "content_length": "short",
      "best_for_ru": false,
      "best_for_usa": true,
      "automation_risk": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π",
      "api_available": true,
      "cost_per_click": 0.55
    }
  ],
  
  "niches": {
    "popular": {
      "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –∏ —Å–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏–µ": {
        "audience": "–ñ–µ–Ω—â–∏–Ω—ã –∏ –º—É–∂—á–∏–Ω—ã 25-45 –ª–µ—Ç",
        "traffic_potential": "9.2",
        "competition": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è",
        "ru_platforms": ["–Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω", "–í–ö–æ–Ω—Ç–∞–∫—Ç–µ", "Telegram"],
        "usa_platforms": ["Medium", "LinkedIn", "Instagram", "TikTok"],
        "monetization": "–ö—É—Ä—Å—ã, –∫–æ—É—á–∏–Ω–≥, –∫–Ω–∏–≥–∏, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏",
        "examples_ru": ["–ö–∞–∫ –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏", "–¢–µ—Ö–Ω–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–µ—Å—Å–æ–º", "–ü–æ–≤—ã—à–µ–Ω–∏–µ —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∏"],
        "examples_usa": ["Mindfulness for professionals", "Building resilience", "Emotional intelligence"],
        "difficulty": "–í—ã—Å–æ–∫–∞—è",
        "avg_income_ru": "$2000-5000/–º–µ—Å—è—Ü",
        "avg_income_usa": "$5000-15000/–º–µ—Å—è—Ü"
      },
      "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏": {
        "audience": "–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–∏ –∏ —Ñ–∏–∑–ª–∏—Ü–∞ —Å –ø—Ä–∞–≤–æ–≤—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏",
        "traffic_potential": "8.2",
        "competition": "–í—ã—Å–æ–∫–∞—è",
        "ru_platforms": ["LinkedIn", "–Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω", "–í–ö–æ–Ω—Ç–∞–∫—Ç–µ"],
        "usa_platforms": ["LinkedIn", "Medium", "Twitter"],
        "monetization": "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –∫—É—Ä—Å—ã",
        "examples_ru": ["–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –û–û–û", "–¢—Ä—É–¥–æ–≤—ã–µ —Å–ø–æ—Ä—ã", "–ó–∞—â–∏—Ç–∞ –ø—Ä–∞–≤ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π"],
        "examples_usa": ["Business law basics", "Employment rights", "Contract review"],
        "difficulty": "–í—ã—Å–æ–∫–∞—è",
        "avg_income_ru": "$3000-8000/–º–µ—Å—è—Ü",
        "avg_income_usa": "$8000-25000/–º–µ—Å—è—Ü"
      },
      "IT –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ": {
        "audience": "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, —Å—Ç—É–¥–µ–Ω—Ç—ã IT",
        "traffic_potential": "8.9",
        "competition": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è",
        "ru_platforms": ["Telegram", "YouTube", "–í–ö–æ–Ω—Ç–∞–∫—Ç–µ"],
        "usa_platforms": ["LinkedIn", "Medium", "Reddit", "YouTube"],
        "monetization": "–ö—É—Ä—Å—ã, —Ñ—Ä–∏–ª–∞–Ω—Å, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏",
        "examples_ru": ["–ò–∑—É—á–µ–Ω–∏–µ Python —Å –Ω—É–ª—è", "React –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã", "DevOps –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã"],
        "examples_usa": ["JavaScript best practices", "Machine learning tutorials", "System design"],
        "difficulty": "–í—ã—Å–æ–∫–∞—è",
        "avg_income_ru": "$2500-7000/–º–µ—Å—è—Ü",
        "avg_income_usa": "$6000-20000/–º–µ—Å—è—Ü"
      },
      "–§–∏–Ω–∞–Ω—Å—ã –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏": {
        "audience": "–õ—é–¥–∏ 25-55 –ª–µ—Ç —Å –¥–æ—Ö–æ–¥–æ–º",
        "traffic_potential": "8.7",
        "competition": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è",
        "ru_platforms": ["–Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω", "Telegram", "YouTube"],
        "usa_platforms": ["LinkedIn", "Medium", "YouTube", "Twitter"],
        "monetization": "–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–æ–º",
        "examples_ru": ["–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö", "–ù–∞–ª–æ–≥–æ–≤—ã–µ –ª—å–≥–æ—Ç—ã", "–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã"],
        "examples_usa": ["Stock market analysis", "Real estate investing", "Retirement planning"],
        "difficulty": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è",
        "avg_income_ru": "$3000-10000/–º–µ—Å—è—Ü",
        "avg_income_usa": "$8000-30000/–º–µ—Å—è—Ü"
      },
      "–ó–¥–æ—Ä–æ–≤—å–µ –∏ —Ñ–∏—Ç–Ω–µ—Å": {
        "audience": "–õ—é–¥–∏ 20-50 –ª–µ—Ç, –∞–∫—Ç–∏–≤–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏",
        "traffic_potential": "8.5",
        "competition": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è",
        "ru_platforms": ["Instagram", "TikTok", "YouTube"],
        "usa_platforms": ["Instagram", "TikTok", "YouTube", "Pinterest"],
        "monetization": "–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –ø–∏—Ç–∞–Ω–∏–µ, –¥–æ–±–∞–≤–∫–∏",
        "examples_ru": ["–î–æ–º–∞—à–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏", "–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ", "–ó–¥–æ—Ä–æ–≤—ã–π —Å–æ–Ω"],
        "examples_usa": ["Home workouts", "Nutrition tips", "Mental health"],
        "difficulty": "–í—ã—Å–æ–∫–∞—è",
        "avg_income_ru": "$1500-4000/–º–µ—Å—è—Ü",
        "avg_income_usa": "$4000-12000/–º–µ—Å—è—Ü"
      }
    },
    "soft": {
      "–ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è –∏ —ç–∑–æ—Ç–µ—Ä–∏–∫–∞": {
        "audience": "–ñ–µ–Ω—â–∏–Ω—ã 20-50 –ª–µ—Ç",
        "traffic_potential": "8.3",
        "competition": "–í—ã—Å–æ–∫–∞—è",
        "ru_platforms": ["–í–ö–æ–Ω—Ç–∞–∫—Ç–µ", "Instagram", "Telegram"],
        "usa_platforms": ["Instagram", "TikTok", "Pinterest"],
        "monetization": "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –∫—É—Ä—Å—ã, —Ç–æ–≤–∞—Ä—ã",
        "examples_ru": ["–ì–æ—Ä–æ—Å–∫–æ–ø –Ω–∞ 2025", "–ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞", "–¢–∞—Ä–æ —Ä–∞—Å–∫–ª–∞–¥—ã"],
        "examples_usa": ["Mercury retrograde guide", "Tarot reading basics", "Astrology charts"],
        "difficulty": "–°—Ä–µ–¥–Ω—è—è",
        "avg_income_ru": "$1000-3000/–º–µ—Å—è—Ü",
        "avg_income_usa": "$2000-8000/–º–µ—Å—è—Ü",
        "legal_risks": "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞"
      },
      "–ö—É–ª–∏–Ω–∞—Ä–∏—è –∏ —Ä–µ—Ü–µ–ø—Ç—ã": {
        "audience": "–î–æ–º–æ—Ö–æ–∑—è–π–∫–∏, –ª—é–±–∏—Ç–µ–ª–∏ –≥–æ—Ç–æ–≤–∏—Ç—å 25-55 –ª–µ—Ç",
        "traffic_potential": "7.8",
        "competition": "–í—ã—Å–æ–∫–∞—è",
        "ru_platforms": ["YouTube", "–í–ö–æ–Ω—Ç–∞–∫—Ç–µ", "–Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω"],
        "usa_platforms": ["Instagram", "Pinterest", "YouTube", "TikTok"],
        "monetization": "–ö—É—Ä—Å—ã –∫—É–ª–∏–Ω–∞—Ä–∏–∏, —Ç–æ–≤–∞—Ä—ã, —Ä–µ–∫–ª–∞–º–∞",
        "examples_ru": ["–ë—ã—Å—Ç—Ä—ã–µ –∑–∞–≤—Ç—Ä–∞–∫–∏", "–ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –±–ª—é–¥–∞", "–í—ã–ø–µ—á–∫–∞ –¥–æ–º–∞"],
        "examples_usa": ["Quick dinner recipes", "Healthy meal prep", "Baking tips"],
        "difficulty": "–°—Ä–µ–¥–Ω—è—è",
        "avg_income_ru": "$800-2500/–º–µ—Å—è—Ü",
        "avg_income_usa": "$2000-6000/–º–µ—Å—è—Ü"
      },
      "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è": {
        "audience": "–õ—é–¥–∏ 25-45 –ª–µ—Ç —Å–æ —Å—Ä–µ–¥–Ω–∏–º –¥–æ—Ö–æ–¥–æ–º",
        "traffic_potential": "7.5",
        "competition": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è",
        "ru_platforms": ["Instagram", "YouTube", "Telegram"],
        "usa_platforms": ["Instagram", "YouTube", "Pinterest", "TikTok"],
        "monetization": "–¢—É—Ä—ã, –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ —Å –æ—Ç–µ–ª—è–º–∏, –≥–∏–¥—ã",
        "examples_ru": ["–ë—é–¥–∂–µ—Ç–Ω—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è", "–†–æ—Å—Å–∏—è –∏–∑–Ω—É—Ç—Ä–∏", "–õ–∞–π—Ñ—Ö–∞–∫–∏ —Ç—É—Ä–∏—Å—Ç–∞–º"],
        "examples_usa": ["Budget travel tips", "Hidden gems", "Travel planning"],
        "difficulty": "–í—ã—Å–æ–∫–∞—è",
        "avg_income_ru": "$1500-4000/–º–µ—Å—è—Ü",
        "avg_income_usa": "$3000-10000/–º–µ—Å—è—Ü"
      }
    },
    "hard": {
      "–ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å": {
        "audience": "IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã, CIO, –º–∞–ª—ã–π –±–∏–∑–Ω–µ—Å",
        "traffic_potential": "9.4",
        "competition": "–°—Ä–µ–¥–Ω—è—è",
        "ru_platforms": ["Telegram", "LinkedIn", "YouTube"],
        "usa_platforms": ["Reddit", "LinkedIn", "Medium"],
        "monetization": "–û–±—É—á–µ–Ω–∏–µ, –∞—É–¥–∏—Ç, –ü–û",
        "examples_ru": ["–ó–∞—â–∏—Ç–∞ –æ—Ç —Ñ–∏—à–∏–Ω–≥–∞", "SIEM —Å–∏—Å—Ç–µ–º—ã", "–ö–∏–±–µ—Ä–∞—Ç–∞–∫–∏ 2025"],
        "examples_usa": ["Zero trust architecture", "Ransomware protection", "SOC operations"],
        "difficulty": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è",
        "avg_income_ru": "$5000-15000/–º–µ—Å—è—Ü",
        "avg_income_usa": "$10000-50000/–º–µ—Å—è—Ü",
        "required_skills": "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ CISSP, CEH, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ–ø—ã—Ç"
      },
      "–ë–ª–æ–∫—á–µ–π–Ω –∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã": {
        "audience": "–ò–Ω–≤–µ—Å—Ç–æ—Ä—ã, IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã, —Ç—Ä–µ–π–¥–µ—Ä—ã",
        "traffic_potential": "8.9",
        "competition": "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è",
        "ru_platforms": ["Telegram", "YouTube", "Twitter"],
        "usa_platforms": ["Twitter", "Reddit", "LinkedIn", "Medium"],
        "monetization": "–¢—Ä–µ–π–¥–∏–Ω–≥ –∫—É—Ä—Å—ã, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, DeFi –ø—Ä–æ–µ–∫—Ç—ã",
        "examples_ru": ["DeFi –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö", "–ê–Ω–∞–ª–∏–∑ –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤", "NFT –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã"],
        "examples_usa": ["Smart contract development", "Yield farming strategies", "Blockchain analysis"],
        "difficulty": "–ö—Ä–∞–π–Ω–µ –≤—ã—Å–æ–∫–∞—è",
        "avg_income_ru": "$3000-20000/–º–µ—Å—è—Ü",
        "avg_income_usa": "$8000-50000/–º–µ—Å—è—Ü",
        "legal_risks": "–°—Ç—Ä–æ–≥–æ–µ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–∏—Ü–µ–Ω–∑–∏–∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç—Ä–∞–Ω–∞—Ö"
      }
    }
  }
};

// –î–∞–Ω–Ω—ã–µ –æ –∫–æ–Ω—Ç–µ–Ω—Ç–µ
const contentData = {
  "short": {
    "platforms": ["TikTok", "X (Twitter)", "Instagram Stories", "Snapchat", "Pinterest", "–û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏"],
    "optimal_length": "15-60 —Å–µ–∫—É–Ω–¥ –≤–∏–¥–µ–æ, 50-280 —Å–∏–º–≤–æ–ª–æ–≤ —Ç–µ–∫—Å—Ç",
    "frequency": "5-15 –ø–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å",
    "engagement_boost": "–í—ã—Å–æ–∫–∞—è –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å, –±—ã—Å—Ç—Ä–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ",
    "templates": [
      {
        "platform": "TikTok",
        "template": "–•—É–∫ (3 —Å–µ–∫) ‚Üí –ü—Ä–æ–±–ª–µ–º–∞ ‚Üí –†–µ—à–µ–Ω–∏–µ ‚Üí CTA",
        "example": "–ù–µ –º–æ–∂–µ—à—å –∑–∞—Å–Ω—É—Ç—å? –≠—Ç–æ—Ç —Ç—Ä—é–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ 2 –º–∏–Ω—É—Ç—ã...",
        "tips": ["–ò—Å–ø–æ–ª—å–∑—É–π —Ç—Ä–µ–Ω–¥—ã", "–î–æ–±–∞–≤–ª—è–π —Å—É–±—Ç–∏—Ç—Ä—ã", "–ü–µ—Ä–≤—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã –∫—Ä–∏—Ç–∏—á–Ω—ã"]
      },
      {
        "platform": "Instagram Stories",
        "template": "–í–æ–ø—Ä–æ—Å ‚Üí –ò–Ω—Ç—Ä–∏–≥–∞ ‚Üí –û—Ç–≤–µ—Ç ‚Üí –û–ø—Ä–æ—Å/–°—Ç–∏–∫–µ—Ä",
        "example": "–£–≥–∞–¥–∞–π, —Å–∫–æ–ª—å–∫–æ —è —Ç—Ä–∞—á—É –Ω–∞ –∫–æ—Ñ–µ –≤ –º–µ—Å—è—Ü? ü§î",
        "tips": ["–ò—Å–ø–æ–ª—å–∑—É–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–∫–µ—Ä—ã", "–î–µ–ª–∞–π –æ–ø—Ä–æ—Å—ã", "–°–æ—Ö—Ä–∞–Ω—è–π –≤ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ"]
      }
    ]
  },
  "long": {
    "platforms": ["Medium", "–Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω", "Substack", "LinkedIn Articles", "–í–ö–æ–Ω—Ç–∞–∫—Ç–µ", "YouTube"],
    "optimal_length": "1000-3000 —Å–ª–æ–≤, 3-10 –º–∏–Ω—É—Ç –≤–∏–¥–µ–æ", 
    "frequency": "1-3 –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ –Ω–µ–¥–µ–ª—é",
    "engagement_boost": "–≠–∫—Å–ø–µ—Ä—Ç–Ω–æ—Å—Ç—å, –¥–æ–≤–µ—Ä–∏–µ, –≥–ª—É–±–æ–∫–æ–µ –≤–æ–≤–ª–µ—á–µ–Ω–∏–µ",
    "templates": [
      {
        "platform": "Medium",
        "template": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ ‚Üí –•—É–∫ ‚Üí –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Üí –î–µ—Ç–∞–ª–∏ ‚Üí –í—ã–≤–æ–¥—ã ‚Üí CTA",
        "example": "How I Built a $10K/Month Business Using Only AI Tools",
        "tips": ["SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è", "–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–∞–∂–¥—ã–µ 200 —Å–ª–æ–≤", "–õ–∏—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è"]
      },
      {
        "platform": "–Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω",
        "template": "–ü—Ä–æ–±–ª–µ–º–∞ ‚Üí –ê–Ω–∞–ª–∏–∑ ‚Üí –†–µ—à–µ–Ω–∏—è ‚Üí –ü—Ä–∏–º–µ—Ä—ã ‚Üí –ó–∞–∫–ª—é—á–µ–Ω–∏–µ",
        "example": "–ü–æ—á–µ–º—É 90% —Å—Ç–∞—Ä—Ç–∞–ø–æ–≤ —É–º–∏—Ä–∞—é—Ç –∏ –∫–∞–∫ –ø–æ–ø–∞—Å—Ç—å –≤ 10% —É—Å–ø–µ—à–Ω—ã—Ö",
        "tips": ["–õ–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã", "–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑", "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã"]
      }
    ]
  }
};

// –î–∞–Ω–Ω—ã–µ –æ–± –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
const automationData = {
  "multiaccount": {
    "safe_practices": [
      {
        "practice": "–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ IP –∞–¥—Ä–µ—Å–∞",
        "description": "–†–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞",
        "tools": ["Smartproxy", "Bright Data", "IPRoyal"],
        "cost": "$50-200/–º–µ—Å—è—Ü",
        "risk_level": "–ö—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–Ω–æ"
      },
      {
        "practice": "–ê–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç –±—Ä–∞—É–∑–µ—Ä—ã", 
        "description": "–ò–∑–æ–ª—è—Ü–∏—è fingerprint –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞",
        "tools": ["AdsPower", "Multilogin", "GoLogin"],
        "cost": "$30-100/–º–µ—Å—è—Ü",
        "risk_level": "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ"
      }
    ],
    "detection_methods": [
      "Behavioral fingerprinting - –∞–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø–æ–≤–µ–¥–µ–Ω–∏—è",
      "Device fingerprinting - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞", 
      "IP –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã",
      "Cross-account interactions - —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏"
    ],
    "ban_prevention": [
      "–ò–º–∏—Ç–∞—Ü–∏—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è",
      "–†–∞–∑–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
      "–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å—ã –∏ –ø–æ–¥–ø–∏—Å–∫–∏",
      "–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –Ω–∞—Ä–∞—â–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"
    ]
  },
  "tools": [
    {
      "name": "Buffer",
      "category": "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤",
      "platforms": ["Instagram", "LinkedIn", "Twitter", "Facebook"],
      "price": "$15-99/–º–µ—Å—è—Ü",
      "automation_level": "–°—Ä–µ–¥–Ω–∏–π",
      "ban_risk": "–ù–∏–∑–∫–∏–π",
      "features": ["–ê–Ω–∞–ª–∏—Ç–∏–∫–∞", "–ö–æ–º–∞–Ω–¥—ã", "–ë—Ä–µ–Ω–¥–∏–Ω–≥"]
    },
    {
      "name": "Hootsuite", 
      "category": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ü—Å–µ—Ç—è–º–∏",
      "platforms": ["Instagram", "LinkedIn", "Twitter", "Facebook", "YouTube"],
      "price": "$49-739/–º–µ—Å—è—Ü",
      "automation_level": "–í—ã—Å–æ–∫–∏–π",
      "ban_risk": "–°—Ä–µ–¥–Ω–∏–π",
      "features": ["–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥", "–ö–æ–º–∞–Ω–¥—ã", "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞", "–†–µ–∫–ª–∞–º–∞"]
    }
  ]
};

// –î–∞–Ω–Ω—ã–µ –æ –Ω–µ–π—Ä–æ–∞–≤–∞—Ç–∞—Ä–∞—Ö
const avatarData = {
  "creation_tools": [
    {
      "name": "Synthesia",
      "rating": "9.2/10",
      "price": "$30/–º–µ—Å—è—Ü",
      "features": [
        "100+ –≥–æ—Ç–æ–≤—ã—Ö –∞–≤–∞—Ç–∞—Ä–æ–≤",
        "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 120+ —è–∑—ã–∫–æ–≤",
        "–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã",
        "API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è"
      ],
      "best_for": "–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏, –æ–±—É—á–µ–Ω–∏–µ",
      "limitations": "–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"
    },
    {
      "name": "D-ID",
      "rating": "8.8/10", 
      "price": "$15/–º–µ—Å—è—Ü",
      "features": [
        "–ê–Ω–∏–º–∞—Ü–∏—è —Ñ–æ—Ç–æ",
        "Real-time –≥–µ–Ω–µ—Ä–∞—Ü–∏—è",
        "–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
      ],
      "best_for": "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏",
      "limitations": "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è"
    },
    {
      "name": "HeyGen",
      "rating": "9.0/10",
      "price": "$24/–º–µ—Å—è—Ü",
      "features": [
        "–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã",
        "–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å",
        "–ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è",
        "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è–º–∏"
      ],
      "best_for": "–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥, –æ–±—É—á–µ–Ω–∏–µ, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏",
      "limitations": "–í—ã—Å–æ–∫–∞—è —Ü–µ–Ω–∞ –∑–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä—ã"
    }
  ],
  "legal_considerations": [
    "–†–∞—Å–∫—Ä—ã—Ç–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AI –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ",
    "–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–¥–æ–±–∏—è",
    "Deepfake –∑–∞–∫–æ–Ω—ã –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —à—Ç–∞—Ç–∞—Ö –°–®–ê",
    "–ê–≤—Ç–æ—Ä—Å–∫–∏–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç"
  ],
  "ethical_guidelines": [
    "–ß–µ—Å—Ç–Ω–æ—Å—Ç—å —Å –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π",
    "–ò–∑–±–µ–≥–∞–Ω–∏–µ –æ–±–º–∞–Ω–∞",
    "–£–≤–∞–∂–µ–Ω–∏–µ –∫ —Ä–µ–∞–ª—å–Ω—ã–º –ª—é–¥—è–º",
    "–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞"
  ]
};

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
let currentSortColumn = '';
let currentSortDirection = 'asc';
let filteredPlatforms = [...appData.platforms];
let currentNicheCategory = 'popular';
let currentMarket = 'ru';
let currentCountry = 'russia';
let trafficChart = null;
let contentChart = null;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
document.addEventListener('DOMContentLoaded', function() {
    console.log('Application initializing...');
    
    initNavigation();
    initPlatformsTable();
    initFilters();
    initNiches();
    initContentStrategies();
    initAutomation();
    initRestrictions();
    initMarkets();
    initAvatars();
    initCalculator();
    initModals();
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    showSection('overview');
    
    console.log('Application initialized successfully');
});

// –ù–∞–≤–∏–≥–∞—Ü–∏—è
function initNavigation() {
    const navButtons = document.querySelectorAll('.nav-btn');
    const overviewCards = document.querySelectorAll('.overview-card');
    
    navButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            const targetSection = this.dataset.section;
            
            navButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            showSection(targetSection);
        });
    });
    
    overviewCards.forEach(card => {
        card.addEventListener('click', function() {
            const targetSection = this.dataset.section;
            if (targetSection) {
                navButtons.forEach(btn => btn.classList.remove('active'));
                const targetButton = document.querySelector(`[data-section="${targetSection}"]`);
                if (targetButton) targetButton.classList.add('active');
                
                showSection(targetSection);
            }
        });
    });
}

function showSection(sectionName) {
    const sections = document.querySelectorAll('.section');
    sections.forEach(section => {
        section.classList.add('hidden');
        section.classList.remove('active');
    });
    
    const targetSection = document.getElementById(`${sectionName}-section`);
    if (targetSection) {
        targetSection.classList.remove('hidden');
        targetSection.classList.add('active');
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —Å–µ–∫—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏
        if (sectionName === 'content') {
            setTimeout(() => initContentComparison(), 100);
        } else if (sectionName === 'calculator') {
            updatePlatformStats();
        }
    }
}

// –¢–∞–±–ª–∏—Ü–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º
function initPlatformsTable() {
    renderPlatformsTable();
    initTableSorting();
    updatePlatformStats();
}

function updatePlatformStats() {
    const totalPlatforms = appData.platforms.length;
    const availablePlatforms = appData.platforms.filter(p => !p.blocked_in_rf || p.blocked_in_rf === false).length;
    const highPotential = appData.platforms.filter(p => parseFloat(p.traffic_potential) >= 9).length;
    
    const totalEl = document.getElementById('total-platforms');
    const availableEl = document.getElementById('available-platforms');
    const highPotentialEl = document.getElementById('high-potential');
    
    if (totalEl) totalEl.textContent = totalPlatforms;
    if (availableEl) availableEl.textContent = availablePlatforms;
    if (highPotentialEl) highPotentialEl.textContent = highPotential;
}

function renderPlatformsTable() {
    const tbody = document.getElementById('platforms-tbody');
    if (!tbody) return;
    
    tbody.innerHTML = '';
    
    filteredPlatforms.forEach(platform => {
        const row = document.createElement('tr');
        
        let blockStatus = '–ù–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω';
        let blockClass = 'blocked-no';
        if (platform.blocked_in_rf === '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω') {
            blockStatus = '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω';
            blockClass = 'blocked-yes';
        } else if (typeof platform.blocked_in_rf === 'string' && platform.blocked_in_rf.includes('–ß–∞—Å—Ç–∏—á–Ω–æ')) {
            blockStatus = '–ß–∞—Å—Ç–∏—á–Ω–æ';
            blockClass = 'blocked-partial';
        }
        
        row.innerHTML = `
            <td>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <div class="platform-icon">${platform.name.charAt(0)}</div>
                    <div>
                        <strong>${platform.name}</strong>
                        <div style="font-size: 11px; color: var(--color-text-secondary);">${platform.type}</div>
                    </div>
                </div>
            </td>
            <td><span class="status ${platform.region === 'RU' ? 'status--success' : 'status--info'}">${platform.region}</span></td>
            <td><strong>${platform.max_posts_per_day}</strong></td>
            <td>${platform.monthly_audience_russia}</td>
            <td>
                <div class="traffic-indicator ${getTrafficClass(platform.traffic_potential)}">
                    ${platform.traffic_potential}/10
                </div>
            </td>
            <td><span class="difficulty-${getDifficultyClass(platform.difficulty)}">${platform.difficulty}</span></td>
            <td>${platform.engagement_rate}</td>
            <td><span class="blocked-indicator ${blockClass}">${blockStatus}</span></td>
            <td>
                <button class="btn action-btn btn--primary" onclick="showPlatformDetails('${platform.name}')">
                    –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                </button>
            </td>
        `;
        tbody.appendChild(row);
    });
}

function getTrafficClass(potential) {
    const value = parseFloat(potential);
    if (value >= 9) return 'traffic-high';
    if (value >= 7) return 'traffic-medium';
    return 'traffic-low';
}

function getDifficultyClass(difficulty) {
    switch(difficulty) {
        case '–°—Ä–µ–¥–Ω–∏–π': return 'medium';
        case '–í—ã—Å–æ–∫–∏–π': return 'hard';
        default: return 'easy';
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
function initFilters() {
    const regionFilter = document.getElementById('region-filter');
    const contentTypeFilter = document.getElementById('content-type-filter');
    const difficultyFilter = document.getElementById('difficulty-filter');
    const blockedFilter = document.getElementById('blocked-filter');
    const searchFilter = document.getElementById('search-filter');
    const exportBtn = document.getElementById('export-csv');
    
    if (regionFilter) regionFilter.addEventListener('change', applyFilters);
    if (contentTypeFilter) contentTypeFilter.addEventListener('change', applyFilters);
    if (difficultyFilter) difficultyFilter.addEventListener('change', applyFilters);
    if (blockedFilter) blockedFilter.addEventListener('change', applyFilters);
    if (searchFilter) searchFilter.addEventListener('input', applyFilters);
    if (exportBtn) exportBtn.addEventListener('click', exportToCSV);
}

function applyFilters() {
    const regionValue = document.getElementById('region-filter')?.value || '';
    const contentTypeValue = document.getElementById('content-type-filter')?.value || '';
    const difficultyValue = document.getElementById('difficulty-filter')?.value || '';
    const blockedValue = document.getElementById('blocked-filter')?.value || '';
    const searchValue = document.getElementById('search-filter')?.value.toLowerCase() || '';
    
    filteredPlatforms = appData.platforms.filter(platform => {
        const matchesRegion = !regionValue || platform.region === regionValue;
        const matchesContentType = !contentTypeValue || platform.content_length === contentTypeValue;
        const matchesDifficulty = !difficultyValue || platform.difficulty === difficultyValue;
        const matchesBlocked = !blockedValue || 
            (blockedValue === 'false' && (!platform.blocked_in_rf || platform.blocked_in_rf === false)) ||
            (blockedValue === 'blocked' && platform.blocked_in_rf === '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω');
        const matchesSearch = !searchValue || platform.name.toLowerCase().includes(searchValue);
        
        return matchesRegion && matchesContentType && matchesDifficulty && matchesBlocked && matchesSearch;
    });
    
    renderPlatformsTable();
    updatePlatformStats();
}

// –ù–∏—à–∏
function initNiches() {
    const nicheTabs = document.querySelectorAll('.niche-tab');
    nicheTabs.forEach(tab => {
        tab.addEventListener('click', function() {
            const category = this.dataset.category;
            switchNicheCategory(category);
        });
    });
    
    const marketButtons = document.querySelectorAll('.market-btn');
    marketButtons.forEach(button => {
        button.addEventListener('click', function() {
            const market = this.dataset.market;
            switchMarket(market);
        });
    });
    
    // –§–∏–ª—å—Ç—Ä—ã –Ω–∏—à
    const nicheSort = document.getElementById('niche-sort');
    const nicheSearch = document.getElementById('niche-search');
    
    if (nicheSort) nicheSort.addEventListener('change', renderNiches);
    if (nicheSearch) nicheSearch.addEventListener('input', renderNiches);
    
    renderNiches();
}

function switchNicheCategory(category) {
    currentNicheCategory = category;
    
    const nicheTabs = document.querySelectorAll('.niche-tab');
    nicheTabs.forEach(tab => {
        tab.classList.remove('active');
        if (tab.dataset.category === category) {
            tab.classList.add('active');
        }
    });
    
    const categories = document.querySelectorAll('.niche-category');
    categories.forEach(cat => {
        cat.classList.add('hidden');
        cat.classList.remove('active');
    });
    
    const targetCategory = document.getElementById(`${category}-niches`);
    if (targetCategory) {
        targetCategory.classList.remove('hidden');
        targetCategory.classList.add('active');
    }
}

function switchMarket(market) {
    currentMarket = market;
    
    const marketButtons = document.querySelectorAll('.market-btn');
    marketButtons.forEach(button => {
        button.classList.remove('active', 'btn--primary');
        button.classList.add('btn--outline');
        
        if (button.dataset.market === market) {
            button.classList.add('active', 'btn--primary');
            button.classList.remove('btn--outline');
        }
    });
    
    renderNiches();
}

function renderNiches() {
    const searchValue = document.getElementById('niche-search')?.value.toLowerCase() || '';
    const sortValue = document.getElementById('niche-sort')?.value || 'traffic_potential';
    
    Object.keys(appData.niches).forEach(category => {
        const gridId = `${category}-niches-grid`;
        const grid = document.getElementById(gridId);
        if (!grid) return;
        
        grid.innerHTML = '';
        
        let niches = Object.entries(appData.niches[category]);
        
        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–∏—Å–∫—É
        if (searchValue) {
            niches = niches.filter(([name]) => name.toLowerCase().includes(searchValue));
        }
        
        // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
        niches.sort(([,a], [,b]) => {
            if (sortValue === 'traffic_potential') {
                return parseFloat(b.traffic_potential) - parseFloat(a.traffic_potential);
            } else if (sortValue === 'competition') {
                const competitionOrder = {'–ù–∏–∑–∫–∞—è': 1, '–°—Ä–µ–¥–Ω—è—è': 2, '–í—ã—Å–æ–∫–∞—è': 3, '–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è': 4, '–ö—Ä–∞–π–Ω–µ –≤—ã—Å–æ–∫–∞—è': 5};
                return competitionOrder[a.competition] - competitionOrder[b.competition];
            }
            return 0;
        });
        
        niches.forEach(([nicheName, nicheData]) => {
            const nicheCard = document.createElement('div');
            nicheCard.className = 'niche-card';
            nicheCard.onclick = () => showNicheDetails(nicheName, nicheData, category);
            
            const platforms = currentMarket === 'ru' ? nicheData.ru_platforms : nicheData.usa_platforms;
            const examples = currentMarket === 'ru' ? nicheData.examples_ru : nicheData.examples_usa;
            
            let difficultyClass = 'status--success';
            if (nicheData.difficulty === '–í—ã—Å–æ–∫–∞—è' || nicheData.difficulty === '–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è') {
                difficultyClass = 'status--warning';
            }
            if (nicheData.difficulty === '–ö—Ä–∞–π–Ω–µ –≤—ã—Å–æ–∫–∞—è') {
                difficultyClass = 'status--error';
            }
            
            nicheCard.innerHTML = `
                <h3>
                    ${nicheName}
                    <span class="niche-difficulty status ${difficultyClass}">${nicheData.difficulty}</span>
                </h3>
                <div class="niche-stats">
                    <div class="niche-stat">
                        <span class="niche-stat-value">${nicheData.traffic_potential}/10</span>
                        <span class="niche-stat-label">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ç—Ä–∞—Ñ–∏–∫–∞</span>
                    </div>
                    <div class="niche-stat">
                        <span class="niche-stat-value">${nicheData.competition}</span>
                        <span class="niche-stat-label">–ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è</span>
                    </div>
                </div>
                <div class="niche-platforms">
                    <h4>–õ—É—á—à–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è ${currentMarket === 'ru' ? 'üá∑üá∫' : 'üá∫üá∏'}:</h4>
                    <div class="platform-tags">
                        ${platforms.map(platform => `<span class="platform-tag">${platform}</span>`).join('')}
                    </div>
                </div>
                <div class="niche-examples">
                    <h4>–ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞:</h4>
                    <ul>
                        ${examples.slice(0, 3).map(example => `<li>${example}</li>`).join('')}
                    </ul>
                </div>
            `;
            grid.appendChild(nicheCard);
        });
    });
}

// –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
function initContentStrategies() {
    const shortPlatformsContainer = document.getElementById('short-platforms');
    if (shortPlatformsContainer) {
        contentData.short.platforms.forEach(platform => {
            const tag = document.createElement('span');
            tag.className = 'platform-tag';
            tag.textContent = platform;
            shortPlatformsContainer.appendChild(tag);
        });
    }
    
    const longPlatformsContainer = document.getElementById('long-platforms');
    if (longPlatformsContainer) {
        contentData.long.platforms.forEach(platform => {
            const tag = document.createElement('span');
            tag.className = 'platform-tag';
            tag.textContent = platform;
            longPlatformsContainer.appendChild(tag);
        });
    }
    
    renderContentTemplates();
}

function initContentComparison() {
    const canvas = document.getElementById('content-comparison-chart');
    if (!canvas) return;
    
    const ctx = canvas.getContext('2d');
    
    if (contentChart) {
        contentChart.destroy();
    }
    
    contentChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['–í–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å', '–î–æ–≤–µ—Ä–∏–µ', '–ö–æ–Ω–≤–µ—Ä—Å–∏—è', '–í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è', '–û—Ö–≤–∞—Ç', '–í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å'],
            datasets: [{
                label: '–ö–æ—Ä–æ—Ç–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç',
                data: [9, 4, 6, 9, 8, 7],
                backgroundColor: 'rgba(31, 184, 205, 0.2)',
                borderColor: '#1FB8CD',
                borderWidth: 2
            }, {
                label: '–î–ª–∏–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç',
                data: [4, 9, 8, 3, 6, 8],
                backgroundColor: 'rgba(255, 193, 133, 0.2)',
                borderColor: '#FFC185',
                borderWidth: 2
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                r: {
                    beginAtZero: true,
                    max: 10
                }
            }
        }
    });
}

function renderContentTemplates() {
    const templatesGrid = document.getElementById('content-templates-grid');
    if (!templatesGrid) return;
    
    const allTemplates = [...contentData.short.templates, ...contentData.long.templates];
    
    allTemplates.forEach(template => {
        const templateCard = document.createElement('div');
        templateCard.className = 'template-card';
        templateCard.onclick = () => showContentTemplateDetails(template);
        
        templateCard.innerHTML = `
            <h4>${template.platform} - –®–∞–±–ª–æ–Ω</h4>
            <div class="template-platform">${template.platform}</div>
            <div class="template-example">${template.example}</div>
            <div class="template-tips">
                <strong>–§–æ—Ä–º—É–ª–∞:</strong> ${template.template}
                <ul>
                    ${template.tips.map(tip => `<li>${tip}</li>`).join('')}
                </ul>
            </div>
        `;
        
        templatesGrid.appendChild(templateCard);
    });
}

// –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
function initAutomation() {
    // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω–æ
}

// –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –∑–∞–∫–æ–Ω—ã
function initRestrictions() {
    const countryTabs = document.querySelectorAll('.country-tab');
    countryTabs.forEach(tab => {
        tab.addEventListener('click', function() {
            const country = this.dataset.country;
            switchCountry(country);
        });
    });
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –†–æ—Å—Å–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    switchCountry('russia');
}

function switchCountry(country) {
    currentCountry = country;
    
    const countryTabs = document.querySelectorAll('.country-tab');
    countryTabs.forEach(tab => {
        tab.classList.remove('active');
        if (tab.dataset.country === country) {
            tab.classList.add('active');
        }
    });
    
    const countryLaws = document.querySelectorAll('.country-laws');
    countryLaws.forEach(laws => {
        laws.classList.add('hidden');
        laws.classList.remove('active');
    });
    
    const targetLaws = document.getElementById(`${country}-laws`);
    if (targetLaws) {
        targetLaws.classList.remove('hidden');
        targetLaws.classList.add('active');
    }
}

// –†—ã–Ω–∫–∏
function initMarkets() {
    renderMarketDetails();
}

function renderMarketDetails() {
    const russiaMarket = document.getElementById('russia-market');
    const usaMarket = document.getElementById('usa-market');
    
    if (russiaMarket) {
        russiaMarket.innerHTML = `
            <div class="market-section">
                <h4>–¢–æ–ø –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</h4>
                <div class="market-platforms">
                    <div class="market-platform">–Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω (9.5/10)</div>
                    <div class="market-platform">Telegram (9.8/10)</div>
                    <div class="market-platform">–í–ö–æ–Ω—Ç–∞–∫—Ç–µ (8.2/10)</div>
                    <div class="market-platform">YouTube (9.8/10)</div>
                    <div class="market-platform">TikTok (9.3/10)</div>
                </div>
            </div>
            <div class="market-section">
                <h4>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞—É–¥–∏—Ç–æ—Ä–∏–∏</h4>
                <div class="market-features">
                    <div class="market-feature">–í—ã—Å–æ–∫–æ–µ –¥–æ–≤–µ—Ä–∏–µ –∫ —ç–∫—Å–ø–µ—Ä—Ç–∞–º</div>
                    <div class="market-feature">–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–±–æ—Ä–∞</div>
                    <div class="market-feature">–í–∞–∂–Ω–æ—Å—Ç—å —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤</div>
                    <div class="market-feature">–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –¥–ª–∏–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–∞–º</div>
                </div>
            </div>
        `;
    }
    
    if (usaMarket) {
        usaMarket.innerHTML = `
            <div class="market-section">
                <h4>–¢–æ–ø –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</h4>
                <div class="market-platforms">
                    <div class="market-platform">Instagram (8.8/10) - –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù</div>
                    <div class="market-platform">LinkedIn (7.8/10)</div>
                    <div class="market-platform">TikTok (9.3/10)</div>
                    <div class="market-platform">Reddit (8.9/10)</div>
                    <div class="market-platform">Medium (8.1/10)</div>
                </div>
            </div>
            <div class="market-section">
                <h4>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞—É–¥–∏—Ç–æ—Ä–∏–∏</h4>
                <div class="market-features">
                    <div class="market-feature">–í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è</div>
                    <div class="market-feature">–í–∞–∂–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±—Ä–µ–Ω–¥–∞</div>
                    <div class="market-feature">–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</div>
                    <div class="market-feature">–§–æ–∫—É—Å –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å</div>
                </div>
            </div>
        `;
    }
}

// –ù–µ–π—Ä–æ–∞–≤–∞—Ç–∞—Ä—ã
function initAvatars() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ HTML —á–µ—Ä–µ–∑ onclick
}

// –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç—Ä–∞—Ñ–∏–∫–∞
function initCalculator() {
    const checkboxContainer = document.getElementById('platform-checkboxes');
    const nicheSelect = document.getElementById('niche-select');
    const calculateBtn = document.getElementById('calculate-traffic');
    const exportPlanBtn = document.getElementById('export-plan');
    const saveScenarioBtn = document.getElementById('save-scenario');
    
    // –ó–∞–ø–æ–ª–Ω—è–µ–º —á–µ–∫–±–æ–∫—Å—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º
    if (checkboxContainer) {
        appData.platforms.forEach(platform => {
            const checkboxItem = document.createElement('div');
            checkboxItem.className = 'checkbox-item';
            checkboxItem.innerHTML = `
                <input type="checkbox" id="platform-${platform.name}" value="${platform.name}">
                <label for="platform-${platform.name}">${platform.name} (${platform.traffic_potential}/10)</label>
            `;
            checkboxContainer.appendChild(checkboxItem);
        });
    }
    
    // –ó–∞–ø–æ–ª–Ω—è–µ–º —Å–µ–ª–µ–∫—Ç –Ω–∏—à
    if (nicheSelect) {
        Object.keys(appData.niches).forEach(category => {
            const optgroup = document.createElement('optgroup');
            optgroup.label = category === 'popular' ? '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∏—à–∏' : 
                           category === 'soft' ? '–ú—è–≥–∫–∏–µ –Ω–∏—à–∏' : '–¢–≤–µ—Ä–¥—ã–µ –Ω–∏—à–∏';
            
            Object.keys(appData.niches[category]).forEach(nicheName => {
                const option = document.createElement('option');
                option.value = nicheName;
                option.textContent = nicheName;
                optgroup.appendChild(option);
            });
            
            nicheSelect.appendChild(optgroup);
        });
    }
    
    // –¢–∞–±—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    const resultsTabs = document.querySelectorAll('.results-tab');
    resultsTabs.forEach(tab => {
        tab.addEventListener('click', function() {
            const tabName = this.dataset.tab;
            switchResultsTab(tabName);
        });
    });
    
    if (calculateBtn) calculateBtn.addEventListener('click', calculateTraffic);
    if (exportPlanBtn) exportPlanBtn.addEventListener('click', exportPlan);
    if (saveScenarioBtn) saveScenarioBtn.addEventListener('click', saveScenario);
}

function switchResultsTab(tabName) {
    const resultsTabs = document.querySelectorAll('.results-tab');
    resultsTabs.forEach(tab => {
        tab.classList.remove('active');
        if (tab.dataset.tab === tabName) {
            tab.classList.add('active');
        }
    });
    
    const resultsPanels = document.querySelectorAll('.results-panel');
    resultsPanels.forEach(panel => {
        panel.classList.add('hidden');
        panel.classList.remove('active');
    });
    
    const targetPanel = document.getElementById(`${tabName}-tab`);
    if (targetPanel) {
        targetPanel.classList.remove('hidden');
        targetPanel.classList.add('active');
    }
}

function calculateTraffic() {
    const selectedPlatforms = [];
    const checkboxes = document.querySelectorAll('#platform-checkboxes input[type="checkbox"]:checked');
    
    checkboxes.forEach(checkbox => {
        const platform = appData.platforms.find(p => p.name === checkbox.value);
        if (platform) selectedPlatforms.push(platform);
    });
    
    if (selectedPlatforms.length === 0) {
        alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—É');
        return;
    }
    
    const postsPerDay = parseInt(document.getElementById('posts-per-day').value) || 10;
    const periodDays = parseInt(document.getElementById('period-days').value) || 30;
    const experienceLevel = document.getElementById('experience-level').value;
    const adBudget = parseInt(document.getElementById('ad-budget').value) || 0;
    const selectedNiche = document.getElementById('niche-select').value;
    
    // –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –æ–ø—ã—Ç–∞
    const experienceMultipliers = {
        'beginner': 0.5,
        'intermediate': 1.0,
        'expert': 1.5
    };
    
    const experienceMultiplier = experienceMultipliers[experienceLevel];
    
    // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –Ω–∏—à–∏
    let nicheMultiplier = 1.0;
    if (selectedNiche) {
        for (const category in appData.niches) {
            if (appData.niches[category][selectedNiche]) {
                const nicheData = appData.niches[category][selectedNiche];
                const potential = parseFloat(nicheData.traffic_potential);
                nicheMultiplier = potential / 8.0;
                break;
            }
        }
    }
    
    const results = selectedPlatforms.map(platform => {
        const engagementRate = parseFloat(platform.engagement_rate.replace('%', '')) / 100;
        const trafficPotential = parseFloat(platform.traffic_potential);
        const costPerClick = platform.cost_per_click || 0.20;
        
        // –û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫
        const dailyOrganicViews = postsPerDay * trafficPotential * 50 * nicheMultiplier * experienceMultiplier;
        const dailyOrganicTraffic = dailyOrganicViews * engagementRate;
        
        // –ü–ª–∞—Ç–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫
        const dailyPaidTraffic = adBudget > 0 ? (adBudget / costPerClick) : 0;
        
        const totalDailyTraffic = dailyOrganicTraffic + dailyPaidTraffic;
        const totalTraffic = totalDailyTraffic * periodDays;
        
        return {
            name: platform.name,
            dailyOrganicTraffic: Math.round(dailyOrganicTraffic),
            dailyPaidTraffic: Math.round(dailyPaidTraffic),
            dailyTraffic: Math.round(totalDailyTraffic),
            totalTraffic: Math.round(totalTraffic),
            trafficPotential,
            costPerClick
        };
    });
    
    renderTrafficChart(results);
    renderTrafficBreakdown(results, periodDays);
    renderTrafficRecommendations(results, selectedNiche);
    renderTrafficSummary(results, periodDays, selectedNiche);
}

function renderTrafficChart(results) {
    const canvas = document.getElementById('traffic-chart');
    if (!canvas) return;
    
    const ctx = canvas.getContext('2d');
    
    if (trafficChart) {
        trafficChart.destroy();
    }
    
    trafficChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: results.map(r => r.name),
            datasets: [{
                label: '–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫',
                data: results.map(r => r.dailyOrganicTraffic * 30),
                backgroundColor: '#1FB8CD'
            }, {
                label: '–ü–ª–∞—Ç–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫',
                data: results.map(r => r.dailyPaidTraffic * 30),
                backgroundColor: '#FFC185'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: true
                }
            },
            scales: {
                x: {
                    stacked: true
                },
                y: {
                    stacked: true,
                    beginAtZero: true,
                    ticks: {
                        callback: function(value) {
                            return value.toLocaleString();
                        }
                    }
                }
            }
        }
    });
}

function renderTrafficBreakdown(results, periodDays) {
    const breakdownDiv = document.getElementById('traffic-breakdown');
    if (!breakdownDiv) return;
    
    breakdownDiv.innerHTML = '';
    
    results.forEach(result => {
        const breakdownItem = document.createElement('div');
        breakdownItem.className = 'breakdown-item fade-in';
        
        breakdownItem.innerHTML = `
            <h4>${result.name}</h4>
            <div class="breakdown-metrics">
                <div class="breakdown-metric">
                    <span class="breakdown-value">${result.dailyTraffic.toLocaleString()}</span>
                    <span class="breakdown-label">–í –¥–µ–Ω—å</span>
                </div>
                <div class="breakdown-metric">
                    <span class="breakdown-value">${result.totalTraffic.toLocaleString()}</span>
                    <span class="breakdown-label">–ó–∞ –ø–µ—Ä–∏–æ–¥</span>
                </div>
                <div class="breakdown-metric">
                    <span class="breakdown-value">${result.trafficPotential}/10</span>
                    <span class="breakdown-label">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª</span>
                </div>
                <div class="breakdown-metric">
                    <span class="breakdown-value">$${result.costPerClick}</span>
                    <span class="breakdown-label">CPC</span>
                </div>
            </div>
        `;
        
        breakdownDiv.appendChild(breakdownItem);
    });
}

function renderTrafficRecommendations(results, selectedNiche) {
    const recommendationsDiv = document.getElementById('traffic-recommendations');
    if (!recommendationsDiv) return;
    
    recommendationsDiv.innerHTML = '';
    
    // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –¥–∞–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    const bestPlatform = results.sort((a, b) => b.totalTraffic - a.totalTraffic)[0];
    const lowPerformers = results.filter(r => r.totalTraffic < 1000);
    
    const recommendations = [
        {
            title: "–§–æ–∫—É—Å –Ω–∞ –ª—É—á—à—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É",
            priority: "high",
            text: `${bestPlatform.name} –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –£–≤–µ–ª–∏—á—å—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ —ç—Ç–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –≤ 2 —Ä–∞–∑–∞.`
        }
    ];
    
    if (lowPerformers.length > 0) {
        recommendations.push({
            title: "–ü–µ—Ä–µ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é",
            priority: "medium",
            text: `–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã ${lowPerformers.map(p => p.name).join(', ')} –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∏–∑–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç —Å–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞.`
        });
    }
    
    if (selectedNiche) {
        recommendations.push({
            title: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ –Ω–∏—à—É",
            priority: "low",
            text: `–î–ª—è –Ω–∏—à–∏ "${selectedNiche}" —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å–æ–≤–µ—Ç–∞–º–∏.`
        });
    }
    
    recommendations.forEach(rec => {
        const recCard = document.createElement('div');
        recCard.className = 'recommendation-card fade-in';
        
        recCard.innerHTML = `
            <h4>
                <span class="recommendation-priority ${rec.priority}">${rec.priority === 'high' ? '–ö–†–ò–¢–ò–ß–ù–û' : rec.priority === 'medium' ? '–í–ê–ñ–ù–û' : '–°–û–í–ï–¢'}</span>
                ${rec.title}
            </h4>
            <p>${rec.text}</p>
        `;
        
        recommendationsDiv.appendChild(recCard);
    });
}

function renderTrafficSummary(results, periodDays, selectedNiche) {
    const summaryDiv = document.getElementById('traffic-summary');
    if (!summaryDiv) return;
    
    const totalTraffic = results.reduce((sum, r) => sum + r.totalTraffic, 0);
    const avgDailyTraffic = Math.round(totalTraffic / periodDays);
    const bestPlatform = results.sort((a, b) => b.totalTraffic - a.totalTraffic)[0];
    const totalOrganic = results.reduce((sum, r) => sum + (r.dailyOrganicTraffic * periodDays), 0);
    const totalPaid = results.reduce((sum, r) => sum + (r.dailyPaidTraffic * periodDays), 0);
    
    summaryDiv.innerHTML = `
        <h4>–°–≤–æ–¥–∫–∞ –ø–æ —Ç—Ä–∞—Ñ–∏–∫—É ${selectedNiche ? `–¥–ª—è –Ω–∏—à–∏ "${selectedNiche}"` : ''}</h4>
        <div class="summary-stat">
            <span>–û–±—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –∑–∞ –ø–µ—Ä–∏–æ–¥:</span>
            <span class="summary-value">${totalTraffic.toLocaleString()}</span>
        </div>
        <div class="summary-stat">
            <span>–°—Ä–µ–¥–Ω–∏–π –¥–Ω–µ–≤–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫:</span>
            <span class="summary-value">${avgDailyTraffic.toLocaleString()}</span>
        </div>
        <div class="summary-stat">
            <span>–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫:</span>
            <span class="summary-value">${totalOrganic.toLocaleString()}</span>
        </div>
        <div class="summary-stat">
            <span>–ü–ª–∞—Ç–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫:</span>
            <span class="summary-value">${totalPaid.toLocaleString()}</span>
        </div>
        <div class="summary-stat">
            <span>–õ—É—á—à–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:</span>
            <span class="summary-value">${bestPlatform?.name || '–ù/–î'}</span>
        </div>
        <div class="summary-stat">
            <span>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º:</span>
            <span class="summary-value">${results.length}</span>
        </div>
    `;
}

// –≠–∫—Å–ø–æ—Ä—Ç –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
function exportPlan() {
    const selectedPlatforms = [];
    const checkboxes = document.querySelectorAll('#platform-checkboxes input[type="checkbox"]:checked');
    
    checkboxes.forEach(checkbox => {
        const platform = appData.platforms.find(p => p.name === checkbox.value);
        if (platform) selectedPlatforms.push(platform);
    });
    
    if (selectedPlatforms.length === 0) {
        alert('–°–Ω–∞—á–∞–ª–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Ç—Ä–∞—Ñ–∏–∫');
        return;
    }
    
    // –°–æ–∑–¥–∞–µ–º –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω
    const planData = [
        ['–°–¢–†–ê–¢–ï–ì–ò–ß–ï–°–ö–ò–ô –ü–õ–ê–ù –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ì–û –¢–†–ê–§–ò–ö–ê 2025'],
        [''],
        ['–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:', new Date().toLocaleDateString('ru-RU')],
        [''],
        ['–ü–ê–†–ê–ú–ï–¢–†–´:'],
        [`–ù–∏—à–∞: ${document.getElementById('niche-select').value || '–ù–µ –≤—ã–±—Ä–∞–Ω–∞'}`],
        [`–ü–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å: ${document.getElementById('posts-per-day').value}`],
        [`–ü–µ—Ä–∏–æ–¥: ${document.getElementById('period-days').value} –¥–Ω–µ–π`],
        [`–£—Ä–æ–≤–µ–Ω—å –æ–ø—ã—Ç–∞: ${document.getElementById('experience-level').value}`],
        [`–ë—é–¥–∂–µ—Ç –Ω–∞ —Ä–µ–∫–ª–∞–º—É: $${document.getElementById('ad-budget').value}/–¥–µ–Ω—å`],
        [''],
        ['–í–´–ë–†–ê–ù–ù–´–ï –ü–õ–ê–¢–§–û–†–ú–´:'],
        ['–ù–∞–∑–≤–∞–Ω–∏–µ', '–†–µ–≥–∏–æ–Ω', '–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª', '–°–ª–æ–∂–Ω–æ—Å—Ç—å', 'Engagement', 'CPC', '–°—Ç–∞—Ç—É—Å –†–§']
    ];
    
    selectedPlatforms.forEach(p => {
        planData.push([
            p.name,
            p.region,
            `${p.traffic_potential}/10`,
            p.difficulty,
            p.engagement_rate,
            `$${p.cost_per_click || '–ù/–î'}`,
            p.blocked_in_rf === false ? '–î–æ—Å—Ç—É–ø–Ω–∞' : p.blocked_in_rf
        ]);
    });
    
    const csvContent = planData
        .map(row => Array.isArray(row) ? row.map(cell => `"${cell}"`).join(',') : `"${row}"`)
        .join('\n');
    
    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = `–ø–ª–∞–Ω_–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ_—Ç—Ä–∞—Ñ–∏–∫–∞_${new Date().toISOString().split('T')[0]}.csv`;
    link.click();
}

function saveScenario() {
    alert('–§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏');
}

function exportToCSV() {
    const headers = ['–ù–∞–∑–≤–∞–Ω–∏–µ', '–†–µ–≥–∏–æ–Ω', '–¢–∏–ø', '–ü–æ—Å—Ç–æ–≤/–¥–µ–Ω—å', '–ê—É–¥–∏—Ç–æ—Ä–∏—è –†–§', '–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ç—Ä–∞—Ñ–∏–∫–∞', '–°–ª–æ–∂–Ω–æ—Å—Ç—å', 'Engagement Rate', '–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –†–§', 'CPC'];
    const rows = filteredPlatforms.map(platform => [
        platform.name,
        platform.region,
        platform.type,
        platform.max_posts_per_day,
        platform.monthly_audience_russia,
        platform.traffic_potential,
        platform.difficulty,
        platform.engagement_rate,
        platform.blocked_in_rf === false ? '–ù–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω' : platform.blocked_in_rf,
        `$${platform.cost_per_click || '–ù/–î'}`
    ]);
    
    const csvContent = [headers, ...rows]
        .map(row => row.map(cell => `"${cell}"`).join(','))
        .join('\n');
    
    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = '–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã_–¥–ª—è_–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ_—Ç—Ä–∞—Ñ–∏–∫–∞_2025.csv';
    link.click();
}

// –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
function initModals() {
    // –û–±—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
    const modals = ['platform-modal', 'niche-modal', 'content-modal', 'automation-modal', 'laws-modal', 'market-modal', 'avatar-modal'];
    
    modals.forEach(modalId => {
        const modal = document.getElementById(modalId);
        const closeBtn = modal?.querySelector('.modal-close');
        
        if (closeBtn) {
            closeBtn.addEventListener('click', () => {
                modal.classList.add('hidden');
            });
        }
        
        if (modal) {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                }
            });
        }
    });
}

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
window.showPlatformDetails = function(platformName) {
    const platform = appData.platforms.find(p => p.name === platformName);
    if (!platform) return;
    
    const modal = document.getElementById('platform-modal');
    const title = document.getElementById('modal-title');
    const body = document.getElementById('modal-body');
    
    title.textContent = platform.name;
    
    let blockStatus = platform.blocked_in_rf === false ? '‚úÖ –ù–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω' : 
                     platform.blocked_in_rf === '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω' ? 'üö´ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ –†–§' :
                     `‚ö†Ô∏è ${platform.blocked_in_rf}`;
    
    body.innerHTML = `
        <div class="modal-info-grid">
            <div class="modal-info-item">
                <div class="modal-info-label">–†–µ–≥–∏–æ–Ω</div>
                <div class="modal-info-value">${platform.region}</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–¢–∏–ø –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</div>
                <div class="modal-info-value">${platform.type}</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–ú–∞–∫—Å–∏–º—É–º –ø–æ—Å—Ç–æ–≤/–¥–µ–Ω—å</div>
                <div class="modal-info-value">${platform.max_posts_per_day}</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–ê—É–¥–∏—Ç–æ—Ä–∏—è –≤ –†–§</div>
                <div class="modal-info-value">${platform.monthly_audience_russia}</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ç—Ä–∞—Ñ–∏–∫–∞</div>
                <div class="modal-info-value">${platform.traffic_potential}/10</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–°—Ç–∞—Ç—É—Å –≤ –†–§</div>
                <div class="modal-info-value">${blockStatus}</div>
            </div>
        </div>
        
        <h4>–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è</h4>
        <p>${platform.monetization}</p>
        <div class="modal-info-item">
            <div class="modal-info-label">–°—Ç–æ–∏–º–æ—Å—Ç—å –∫–ª–∏–∫–∞ (–ø—Ä–∏–º–µ—Ä–Ω–∞—è)</div>
            <div class="modal-info-value">$${platform.cost_per_click || '–î–∞–Ω–Ω—ã—Ö –Ω–µ—Ç'}</div>
        </div>
        
        <h4>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</h4>
        <div class="modal-info-item">
            <div class="modal-info-label">–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞</div>
            <div class="modal-info-value">${platform.automation_risk || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}</div>
        </div>
    `;
    
    modal.classList.remove('hidden');
};

window.showNicheDetails = function(nicheName, nicheData, category) {
    const modal = document.getElementById('niche-modal');
    const title = document.getElementById('niche-modal-title');
    const body = document.getElementById('niche-modal-body');
    
    title.textContent = nicheName;
    
    const categoryName = category === 'popular' ? '–ü–æ–ø—É–ª—è—Ä–Ω–∞—è –Ω–∏—à–∞' : 
                        category === 'soft' ? '–ú—è–≥–∫–∞—è –Ω–∏—à–∞' : '–¢–≤–µ—Ä–¥–∞—è –Ω–∏—à–∞';
    
    body.innerHTML = `
        <div class="modal-info-grid">
            <div class="modal-info-item">
                <div class="modal-info-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
                <div class="modal-info-value">${categoryName}</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</div>
                <div class="modal-info-value">${nicheData.audience}</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ç—Ä–∞—Ñ–∏–∫–∞</div>
                <div class="modal-info-value">${nicheData.traffic_potential}/10</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–£—Ä–æ–≤–µ–Ω—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏</div>
                <div class="modal-info-value">${nicheData.competition}</div>
            </div>
            ${nicheData.avg_income_ru ? `
            <div class="modal-info-item">
                <div class="modal-info-label">–î–æ—Ö–æ–¥ –≤ –†–§</div>
                <div class="modal-info-value">${nicheData.avg_income_ru}</div>
            </div>
            ` : ''}
            ${nicheData.avg_income_usa ? `
            <div class="modal-info-item">
                <div class="modal-info-label">–î–æ—Ö–æ–¥ –≤ –°–®–ê</div>
                <div class="modal-info-value">${nicheData.avg_income_usa}</div>
            </div>
            ` : ''}
        </div>
        
        <h4>–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –†–æ—Å—Å–∏–∏ üá∑üá∫</h4>
        <div class="platform-tags">
            ${nicheData.ru_platforms.map(platform => `<span class="platform-tag">${platform}</span>`).join('')}
        </div>
        <h4>–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –°–®–ê üá∫üá∏</h4>
        <div class="platform-tags">
            ${nicheData.usa_platforms.map(platform => `<span class="platform-tag">${platform}</span>`).join('')}
        </div>
        
        <h4>–°–ø–æ—Å–æ–±—ã –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏</h4>
        <p>${nicheData.monetization}</p>
        
        <h4>–ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –†–æ—Å—Å–∏–∏</h4>
        <div class="modal-examples">
            ${nicheData.examples_ru.map(example => `
            <div class="example-item">
                <div class="example-text">${example}</div>
            </div>
            `).join('')}
        </div>
        <h4>–ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –°–®–ê</h4>
        <div class="modal-examples">
            ${nicheData.examples_usa.map(example => `
            <div class="example-item">
                <div class="example-text">${example}</div>
            </div>
            `).join('')}
        </div>
    `;
    
    modal.classList.remove('hidden');
};

window.showContentDetails = function(contentType) {
    const modal = document.getElementById('content-modal');
    const title = document.getElementById('content-modal-title');
    const body = document.getElementById('content-modal-body');
    
    const data = contentData[contentType];
    
    title.textContent = contentType === 'short' ? '–ö–æ—Ä–æ—Ç–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç' : '–î–ª–∏–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç';
    
    body.innerHTML = `
        <h4>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h4>
        <div class="modal-info-grid">
            <div class="modal-info-item">
                <div class="modal-info-label">–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞</div>
                <div class="modal-info-value">${data.optimal_length}</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–ß–∞—Å—Ç–æ—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π</div>
                <div class="modal-info-value">${data.frequency}</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</div>
                <div class="modal-info-value">${data.engagement_boost}</div>
            </div>
        </div>
        
        <h4>–®–∞–±–ª–æ–Ω—ã –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º</h4>
        ${data.templates.map(template => `
        <div class="example-item">
            <h5>${template.platform}</h5>
            <div class="example-text"><strong>–§–æ—Ä–º—É–ª–∞:</strong> ${template.template}</div>
            <div class="example-text"><strong>–ü—Ä–∏–º–µ—Ä:</strong> ${template.example}</div>
            <div class="modal-tips">
                <h5>–°–æ–≤–µ—Ç—ã:</h5>
                <ul>
                    ${template.tips.map(tip => `<li>${tip}</li>`).join('')}
                </ul>
            </div>
        </div>
        `).join('')}
    `;
    
    modal.classList.remove('hidden');
};

window.showMultiaccountDetails = function() {
    const modal = document.getElementById('automation-modal');
    const title = document.getElementById('automation-modal-title');
    const body = document.getElementById('automation-modal-body');
    
    title.textContent = '–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç–∞';
    
    body.innerHTML = `
        <div class="modal-warning">
            <h5>‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û</h5>
            <ul>
                <li>–û–¥–∏–Ω –±–∞–Ω –º–æ–∂–µ—Ç —É–Ω–∏—á—Ç–æ–∂–∏—Ç—å –º–µ—Å—è—Ü—ã —Ä–∞–±–æ—Ç—ã</li>
                <li>–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤—Å–µ —É–º–Ω–µ–µ –≤ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏</li>
                <li>–°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª - —ç—Ç–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤ –±—É–¥—É—â–µ–µ</li>
            </ul>
        </div>
        
        <h4>–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</h4>
        ${automationData.multiaccount.safe_practices.map(practice => `
        <div class="modal-section">
            <h5>${practice.practice}</h5>
            <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${practice.description}</p>
            <p><strong>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:</strong> ${practice.tools.join(', ')}</p>
            <p><strong>–°—Ç–æ–∏–º–æ—Å—Ç—å:</strong> ${practice.cost}</p>
        </div>
        `).join('')}
    `;
    
    modal.classList.remove('hidden');
};

window.showAutomationTools = function() {
    const modal = document.getElementById('automation-modal');
    const title = document.getElementById('automation-modal-title');
    const body = document.getElementById('automation-modal-body');
    
    title.textContent = '–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏';
    
    body.innerHTML = `
        <h4>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h4>
        ${automationData.tools.map(tool => `
        <div class="modal-section">
            <h5>${tool.name}</h5>
            <div class="modal-info-grid">
                <div class="modal-info-item">
                    <div class="modal-info-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
                    <div class="modal-info-value">${tool.category}</div>
                </div>
                <div class="modal-info-item">
                    <div class="modal-info-label">–¶–µ–Ω–∞</div>
                    <div class="modal-info-value">${tool.price}</div>
                </div>
                <div class="modal-info-item">
                    <div class="modal-info-label">–†–∏—Å–∫ –±–∞–Ω–∞</div>
                    <div class="modal-info-value">${tool.ban_risk}</div>
                </div>
            </div>
        </div>
        `).join('')}
    `;
    
    modal.classList.remove('hidden');
};

window.showBanPrevention = function() {
    const modal = document.getElementById('automation-modal');
    const title = document.getElementById('automation-modal-title');
    const body = document.getElementById('automation-modal-body');
    
    title.textContent = '–ó–∞—â–∏—Ç–∞ –æ—Ç –±–∞–Ω–æ–≤';
    
    body.innerHTML = `
        <h4>üõ°Ô∏è –ü—Ä–µ–≤–µ–Ω—Ç–∏–≤–Ω—ã–µ –º–µ—Ä—ã</h4>
        <div class="modal-tips">
            <ul>
                ${automationData.multiaccount.ban_prevention.map(tip => `<li>${tip}</li>`).join('')}
            </ul>
        </div>
    `;
    
    modal.classList.remove('hidden');
};

window.showROICalculator = function() {
    const modal = document.getElementById('automation-modal');
    const title = document.getElementById('automation-modal-title');
    const body = document.getElementById('automation-modal-body');
    
    title.textContent = 'ROI –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏';
    
    body.innerHTML = `
        <h4>üí∞ –ê–Ω–∞–ª–∏–∑ –∑–∞—Ç—Ä–∞—Ç –∏ –≤—ã–≥–æ–¥</h4>
        <p>–¢–∏–ø–∏—á–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã –≤ –º–µ—Å—è—Ü: $115-500</p>
        <p>–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏: 2-4 —á–∞—Å–∞ –≤ –¥–µ–Ω—å</p>
        <p>ROI: 300-500% –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ</p>
    `;
    
    modal.classList.remove('hidden');
};

window.showRussianPenalties = function() {
    const modal = document.getElementById('laws-modal');
    const title = document.getElementById('laws-modal-title');
    const body = document.getElementById('laws-modal-body');
    
    title.textContent = '–ù–æ–≤—ã–µ —à—Ç—Ä–∞—Ñ—ã –≤ –†–æ—Å—Å–∏–∏ —Å 01.09.2025';
    
    body.innerHTML = `
        <div class="modal-warning">
            <h5>üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û</h5>
            <p>–ù–æ–≤—ã–µ –∑–∞–∫–æ–Ω—ã –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É –∏ —É–∂–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è!</p>
        </div>
        
        <h4>–®—Ç—Ä–∞—Ñ—ã –∑–∞ —Ä–µ–∫–ª–∞–º—É –≤ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ—Ü—Å–µ—Ç—è—Ö</h4>
        <div class="modal-info-grid">
            <div class="modal-info-item">
                <div class="modal-info-label">–§–∏–∑–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞</div>
                <div class="modal-info-value">2,000-2,500 —Ä—É–± –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–ò–ü</div>
                <div class="modal-info-value">4,000-20,000 —Ä—É–±</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞</div>
                <div class="modal-info-value">100,000-500,000 —Ä—É–±</div>
            </div>
        </div>
    `;
    
    modal.classList.remove('hidden');
};

window.showFTCGuidelines = function() {
    const modal = document.getElementById('laws-modal');
    const title = document.getElementById('laws-modal-title');
    const body = document.getElementById('laws-modal-body');
    
    title.textContent = 'FTC Guidelines 2025 (–°–®–ê)';
    
    body.innerHTML = `
        <h4>–ù–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è FTC</h4>
        <p>–®—Ç—Ä–∞—Ñ: $51,744 –∑–∞ –∫–∞–∂–¥–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ</p>
        <h4>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</h4>
        <ul>
            <li>–ß–µ—Ç–∫–æ–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ —Å–ø–æ–Ω—Å–æ—Ä—Å—Ç–≤–∞ (#ad, #sponsored)</li>
            <li>–°–ª–æ–≤–µ—Å–Ω–æ–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –≤ –≤–∏–¥–µ–æ</li>
            <li>–†–∞—Å–∫—Ä—ã—Ç–∏–µ –≤ –Ω–∞—á–∞–ª–µ –ø–æ—Å—Ç–∞</li>
        </ul>
    `;
    
    modal.classList.remove('hidden');
};

window.showAvatarTool = function(toolName) {
    const tool = avatarData.creation_tools.find(t => t.name.toLowerCase().includes(toolName));
    if (!tool) return;
    
    const modal = document.getElementById('avatar-modal');
    const title = document.getElementById('avatar-modal-title');
    const body = document.getElementById('avatar-modal-body');
    
    title.textContent = tool.name;
    
    body.innerHTML = `
        <div class="modal-info-grid">
            <div class="modal-info-item">
                <div class="modal-info-label">–†–µ–π—Ç–∏–Ω–≥</div>
                <div class="modal-info-value">${tool.rating}</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–¶–µ–Ω–∞</div>
                <div class="modal-info-value">${tool.price}</div>
            </div>
            <div class="modal-info-item">
                <div class="modal-info-label">–õ—É—á—à–µ –≤—Å–µ–≥–æ –¥–ª—è</div>
                <div class="modal-info-value">${tool.best_for}</div>
            </div>
        </div>
        
        <h4>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h4>
        <ul>
            ${tool.features.map(feature => `<li>${feature}</li>`).join('')}
        </ul>
        
        <div class="modal-warning">
            <h5>‚ö†Ô∏è –ü—Ä–∞–≤–æ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã</h5>
            <ul>
                ${avatarData.legal_considerations.map(consideration => `<li>${consideration}</li>`).join('')}
            </ul>
        </div>
    `;
    
    modal.classList.remove('hidden');
};

window.showRussianMarketDetails = function() {
    const modal = document.getElementById('market-modal');
    const title = document.getElementById('market-modal-title');
    const body = document.getElementById('market-modal-body');
    
    title.textContent = '–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—ã–Ω–æ–∫ - –ø–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑';
    
    body.innerHTML = `
        <h4>üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞—É–¥–∏—Ç–æ—Ä–∏–∏</h4>
        <ul>
            <li><strong>–í—ã—Å–æ–∫–æ–µ –¥–æ–≤–µ—Ä–∏–µ –∫ —ç–∫—Å–ø–µ—Ä—Ç–∞–º</strong></li>
            <li><strong>–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–±–æ—Ä–∞</strong></li>
            <li><strong>–í–∞–∂–Ω–æ—Å—Ç—å —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤</strong></li>
        </ul>
        
        <h4>üí° –°–æ–≤–µ—Ç—ã –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞</h4>
        <ul>
            <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏ –∫–µ–π—Å—ã</li>
            <li>–£—á–∏—Ç—ã–≤–∞–π—Ç–µ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ –∏ —Å–æ–±—ã—Ç–∏—è</li>
            <li>–ü–∏—à–∏—Ç–µ –Ω–∞ –ø—Ä–æ—Å—Ç–æ–º —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ</li>
        </ul>
    `;
    
    modal.classList.remove('hidden');
};

window.showAmericanMarketDetails = function() {
    const modal = document.getElementById('market-modal');
    const title = document.getElementById('market-modal-title');
    const body = document.getElementById('market-modal-body');
    
    title.textContent = '–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π —Ä—ã–Ω–æ–∫ - –ø–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑';
    
    body.innerHTML = `
        <h4>üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞—É–¥–∏—Ç–æ—Ä–∏–∏</h4>
        <ul>
            <li><strong>–í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è</strong></li>
            <li><strong>–í–∞–∂–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±—Ä–µ–Ω–¥–∞</strong></li>
            <li><strong>–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</strong></li>
        </ul>
        
        <h4>üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞</h4>
        <ul>
            <li>–ò–¥–µ–∞–ª—å–Ω—ã–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω</li>
            <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ–º—ã –∏ —Ç—Ä–µ–Ω–¥—ã</li>
            <li>–ë—É–¥—å—Ç–µ –∫—Ä–∞—Ç–∫–∏–º–∏ –∏ –ø–æ –¥–µ–ª—É</li>
        </ul>
    `;
    
    modal.classList.remove('hidden');
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Ç–∞–±–ª–∏—Ü—ã
function initTableSorting() {
    const headers = document.querySelectorAll('.platforms-table th[data-sort]');
    headers.forEach(header => {
        header.addEventListener('click', () => {
            const column = header.dataset.sort;
            
            if (currentSortColumn === column) {
                currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                currentSortColumn = column;
                currentSortDirection = 'asc';
            }
            
            sortPlatforms(column, currentSortDirection);
            renderPlatformsTable();
        });
    });
}

function sortPlatforms(column, direction) {
    filteredPlatforms.sort((a, b) => {
        let aVal = a[column];
        let bVal = b[column];
        
        if (column === 'traffic_potential') {
            aVal = parseFloat(aVal) || 0;
            bVal = parseFloat(bVal) || 0;
        }
        
        if (aVal < bVal) return direction === 'asc' ? -1 : 1;
        if (aVal > bVal) return direction === 'asc' ? 1 : -1;
        return 0;
    });
}

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏-–∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫, –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å
window.showBloggerRegistration = function() { alert('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–ª–æ–≥–µ—Ä–æ–≤ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞'); };
window.showCOPPADetails = function() { alert('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ COPPA –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞'); };
window.showDSADetails = function() { alert('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ DSA –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞'); };
window.showGDPRDetails = function() { alert('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ GDPR –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞'); };
window.showAITextTools = function() { alert('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞'); };
window.showAIImageTools = function() { alert('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞'); };
window.showAIVideoTools = function() { alert('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö –¥–ª—è –≤–∏–¥–µ–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞'); };
window.showContentTemplateDetails = function() { alert('–î–µ—Ç–∞–ª–∏ —à–∞–±–ª–æ–Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã'); };